---
import PageLayout from "@layouts/PageLayout.astro";

export interface Props {
  title?: string;
  subtitle?: string;
  image?: string;
  md_github_url?: string;
  subfooter?: string;
  pages: object[];
}

const { title, subtitle, image, md_github_url, subfooter, pages } = Astro.props;

const docs_pages = pages.map((page: object) => ({
  slug: page.file.split("/").pop().replace(".md", ""),
  title: page.frontmatter.title,
}));
---

<PageLayout
  title={title}
  subtitle={subtitle}
  image={image}
  md_github_url={md_github_url}
  subfooter={subfooter}
>
  <div class="flex">
    <aside
      class="sticky top-5 mr-5 hidden h-screen w-[19.5rem] flex-none overflow-y-auto pb-10 md:block"
    >
      {
        docs_pages.map((page) => (
          <a href={page.slug} class="mb-2 block font-medium text-gray-500 hover:text-gray-900">
            {page.title}
          </a>
        ))
      }
    </aside>

    <main>
      <slot />
    </main>
    <aside
      class="sticky top-5 ml-5 hidden h-screen w-[19.5rem] flex-none overflow-y-auto pb-10 xl:block"
    >
      // Fixed Table of contents
    </aside>
  </div>
</PageLayout>
