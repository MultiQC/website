---
import PageLayout from "@layouts/PageLayout.astro";
import { Icon } from "astro-icon";

const modules = await Astro.glob("../../../../MultiQC/docs/modules/**/*.md");
---

<PageLayout
  title={"Supported Tools"}
  subtitle={`MultiQC currently has modules to support ${modules.length} different bioinformatics tools, listed below.`}
>
  <div class="container-lg">
    <div class="flex items-center">
      <Icon name="mdi:book-outline" class="mr-3 h-10 w-10 text-gray-500" />
      <p class="typo-blockquote">
        Click the tool name to go to the MultiQC documentation for that tool.
      </p>
    </div>
    <p class="mt-2">
      Missing something? If you would like another to be added, please{" "}
      <a
        class="underline underline-offset-4"
        href="https://github.com/ewels/MultiQC/issues/new?labels=module%3A+new&template=module-request.yml"
      >
        open an issue
      </a>.
    </p>
    <table class="mt-8">
      <thead>
        <tr>
          <td class="w-1/4">
            <span class="typo-intro">Tool Name</span>
          </td>
          <td>
            <span class="typo-intro">Description</span>
          </td>
        </tr>
      </thead>
      <tbody>
        {
          modules &&
            modules.map((module) => (
              <tr>
                <td>
                  <a
                    href={"/modules/" + module.file.split("/").pop().replace(".md", "")}
                    class="typo-body text-blue-600 dark:text-blue-400"
                  >
                    {module.frontmatter.Name}
                  </a>
                </td>
                <td>
                  <p class="typo-body">{module.frontmatter.Description}</p>
                </td>
              </tr>
            ))
        }
      </tbody>
    </table>
  </div>
</PageLayout>
