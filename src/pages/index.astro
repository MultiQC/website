---
import BaseLayout from '@layouts/BaseLayout.astro';

import Button from "@components/Button.astro";

import { Icon } from 'astro-icon';
import SnippetBox from '@components/SnippetBox.svelte';

const latestRelease = await fetch('https://api.github.com/repos/ewels/MultiQC/releases/latest')
  .then((response) => response.json())
  .then((data) => {
    return data.tag_name;
  });
// import ExamplesBrowser from "@components/ExamplesBrowser";
// import SnippetBox from "@components/SnippetBox";
// import Tabs from "@components/Tabs";
// import YoutubeIframe from "@components/YoutubeIframe";


// import Hero from "@components/Hero";
---

<BaseLayout title="MultiQC" subtitle="Homepage">
      {/* <Hero> */}
        <div class="container-lg relative">
          <div class="row">
            <div class="col-full lg:col-8">
              <div class="flex flex-row items-end items-stretch">
                  <Icon name="multiqc_logo_light" class="w-[430px]"/>
                <div class="grow text-right">
                  <a
                    href="https://github.com/ewels/MultiQC/releases"
                    class="typo-small mr-5 text-xs text-gray-300"
                  >
                    {/* TODO: Fetch dynamically, don't hard-code version */}
                    Latest release: {latestRelease}
                </a>

                  <span
                    class="__dimensions_badge_embed__"
                    data-doi="10.1093/bioinformatics/btw354"
                    data-legend="never"
                    data-style="large_rectangle"
                  ></span>
                  <script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>
                </div>
              </div>
              <h1 class="typo-h4 mt-8">
                Aggregate results from bioinformatics analyses across many samples into a single report
              </h1>
              <p class="typo-blockquote mt-4 lg:mt-8">
                MultiQC searches a given directory for analysis logs and compiles a HTML report. It's a general use
                tool, perfect for summarising the output from numerous bioinformatics tools.
              </p>
              <div class="row mt-8">
                {/*
                <div class="col-full lg:col-6 hidden lg:block">
                  {videoLanguage === "en" && (
                    <>
                      {videoEng === 0 && <YoutubeIframe id="BbScv9TcaMg" />}
                      {videoEng === 1 && <YoutubeIframe id="Gg5neIPuiVo" />}
                      {videoEng === 2 && <YoutubeIframe id="cktKbESOOno" />}
                      {videoEng === 3 && <YoutubeIframe id="qPbIlO_KWN0" />}
                    </>
                  )}
                  {videoLanguage === "es" && (
                    <>
                      {videoEsp === 0 && <YoutubeIframe id="WX_qVhJ32g0" />}
                      {videoEsp === 1 && <YoutubeIframe id="E_NJCxwXAGQ" />}
                      {videoEsp === 2 && <YoutubeIframe id="0MfW7Y8Ocak" />}
                    </>
                  )}
                </div>

                <div class="col-full lg:col-6">
                  <Tabs current={videoLanguage} setCurrent={setVideoLanguage} small>
                    <Tabs.Item index="en">English 🇬🇧</Tabs.Item>
                    <Tabs.Item index="es">Español 🇪🇸</Tabs.Item>
                  </Tabs>
                  <div class="mt-3">
                    {videoLanguage === "en" && (
                      <Tabs current={videoEng} setCurrent={setVideoEng} vertical>
                        <Tabs.Item index={0}>Introduction to MultiQC</Tabs.Item>
                        <Tabs.Item index={1}>Installing MultiQC</Tabs.Item>
                        <Tabs.Item index={2}>Running MultiQC</Tabs.Item>
                        <Tabs.Item index={3}>Using MultiQC Reports</Tabs.Item>
                      </Tabs>
                    )}
                    {videoLanguage === "es" && (
                      <Tabs current={videoEsp} setCurrent={setVideoEsp} vertical>
                        <Tabs.Item index={0}>Introducción a MultiQC</Tabs.Item>
                        <Tabs.Item index={1}>Instalación de MultiQC</Tabs.Item>
                        <Tabs.Item index={2}>¿Cómo ejecutar MultiQC?</Tabs.Item>
                      </Tabs>
                    )}
                  </div>
                </div>
                */}
              </div>
            </div>
            <div class="col-full lg:col-4 mt-4 lg:mt-0">
              <Button to="https://www.github.com/ewels/MultiQC" variant="primary" size="md" classes="w-full">
                <Icon name="mdi:github" class="mr-3 h-6 w-6" />
                GitHub
              </Button>
              <div class="mt-5">
                <Button to="https://pypi.org/project/multiqc/" variant="primary" size="md" classes="w-full">
                  <Icon name="mdi:language-python" class="mr-3 h-6 w-6" />
                  Python Package Index
                </Button>
              </div>
              <div class="mt-5">
                <Button to="/docs/" variant="primary" size="md" classes="w-full">
                  <Icon name="mdi:book-outline" class="mr-3 h-6 w-6" />
                  Documentation
                </Button>
              </div>
              <div class="mt-5">
                <Button to="/modules/" variant="primary" size="md" classes="w-full">
                  <Icon name="mdi:hammer-wrench" class="mr-3 h-6 w-6" />
                  114 supported tools
                </Button>
              </div>
              <div class="mt-5">
                <Button to="/citation/" variant="primary" size="md" classes="w-full">
                  <Icon name="mdi:paperclip" class="mr-3 h-6 w-6" />
                  Citation
                </Button>
              </div>
              <div class="mt-5">
                <Button to="https://gitter.im/ewels/MultiQC" variant="primary" size="md" classes="w-full">
                  <Icon name="fa-brands:gitter" class="mr-3 h-6 w-6" />
                  Get help on Gitter
                </Button>
              </div>
              <div class="mt-5">
                <div class="overflow-hidden rounded-md border border-blue-600 bg-gray-800 shadow">
      <div class="flex items-center justify-center border-b border-blue-600 bg-blue-600 py-2">
        <Icon name="mdi:terminal" class="mr-3 h-6 w-6" />
        <span class="typo-intro">Quick install</span>
      </div>
      
                <SnippetBox snippets={[
                  {
                    title: "pip",
                    code: `pip install multiqc # Install\nmultiqc . # Run`
                  },
                  {
                    title: "conda",
                    code: "conda install multiqc\n # Setup Bioconda first https://bioconda.github.io/#usage\nmultiqc ."
                     
                  },
                  {
                    title: "docker",
                    code: "docker run -t -v pwd:pwd -w pwd\newels/multiqc ."
                  }]} client:idle/>
                </div>
                <p class="mt-2 text-xs font-light text-gray-500">
                  Need a little more help?
                  <a href="/docs/usage/installation/" class="underline underline-offset-4 hover:text-gray-400">
                    See the full installation instructions
                  </a>
                  .
                </p>
              </div>
      {/* </Hero> */}
      <div class="container-lg py-20">
        <div class="row">
          <div class="col-full">
            <h2 class="typo-h3 mb-4">Example reports</h2>
            <p class="typo-blockquote mb-4">
              MultiQC collects numerical stats from each module at the top the report, so that you can track how your
              data behaves as it proceeds through your analysis.
            </p>
            <div class="mt-4 md:mt-8">
              <Button to="/example-reports/" variant="primary" size="md" arrow>
                See all example reports
              </Button>
            </div>
            <div class="mt-8 hidden md:block">
              {/* <ExamplesBrowser items={exampleReports} hasDetails /> */}
            </div>
          </div>
        </div>
      </div>
      <div class="container-sm py-20">
        <div class="text-center">
          <h2 class="typo-h3 mx-auto mb-4 max-w-2xl">
            Ever spent ages collecting reports and wading through log file output?
          </h2>
          <p class="typo-blockquote">Here's the answer to your frustrations...</p>
        </div>
        <div class="row">
          <div class="col-full md:col-6 mt-8 md:mt-16">
            <h3 class="typo-h4 mb-4">Visualise statistics from your pipeline</h3>
            <p class="typo-body">
              MultiQC collects numerical stats from each module at the top the report, so that you can track how your
              data behaves as it proceeds through your analysis.
            </p>
          </div>
          <div class="col-full md:col-6 mt-8 md:mt-16">
            <h3 class="typo-h4 mb-4">Plot all of your samples together</h3>
            <p class="typo-body">
              Visualizing your samples together allows detailed comparison, not possible by scanning one report after
              another.
            </p>
          </div>
          <div class="col-full md:col-6 mt-8 md:mt-16">
            <h3 class="typo-h4 mb-4">Supports your favourite tools</h3>
            <p class="typo-body">
              MultiQC comes supports many common bioinformatics tools out of the box. If you're missing something, just
              create an issue on GitHub to request it - if you have an example log file it's usually pretty fast.
            </p>
          </div>
          <div class="col-full md:col-6 mt-8 md:mt-16">
            <h3 class="typo-h4 mb-4">Extensible and documented</h3>
            <p class="typo-body">
              Want to use this to do something fancy? MultiQC is structured to allow easy extension and customisation
              with plugin hooks, a submodule framework and simple templating. Everything is well documented, with step
              by step instructions for writing your new tool.
            </p>
          </div>
        </div>
      </div>
      <div class="container-md pb-20 md:py-20">
        <div class="row justify-center text-center">
          <div class="col-full md:col-4">
            <h3 class="flex items-center justify-center">
              <Icon name="mdi:console" class="mr-3 h-6 w-6 text-gray-500" />
              <span class="typo-intro">Simple installation</span>
            </h3>
          </div>
          <div class="col-full md:col-4 mt-8 md:mt-0">
            <h3 class="flex items-center justify-center">
              <Icon name="mdi:folder-search-outline" class="mr-3 h-6 w-6 text-gray-500" />
              <span class="typo-intro">Search any directory</span>
            </h3>
          </div>
          <div class="col-full md:col-4 mt-8 md:mt-0">
            <h3 class="flex items-center justify-center">
              <Icon name="mdi:laptop" class="mr-3 h-6 w-6 text-gray-500" />
              <span class="typo-intro">View report in a web browser</span>
            </h3>
          </div>
          <div class="col-full md:col-4 mt-8">
            <h3 class="flex items-center justify-center">
              <Icon name="bi:file-earmark-zip" class="mr-3 h-6 w-6 text-gray-500" />
              <span class="typo-intro">Zip file for easy sharing</span>
            </h3>
          </div>
          <div class="col-full md:col-4 mt-8">
            <h3 class="flex items-center justify-center">
              <Icon name="mdi:script-text-outline" class="mr-3 h-6 w-6 text-gray-500" />
              <span class="typo-intro">Extensible & well documented</span>
            </h3>
          </div>
        </div>
      </div>
      <div class="bg-gray-100">
        <div class="container-lg py-20 text-center">
          <h2 class="typo-h3 mx-auto mb-4 max-w-5xl">
            Install from the
            <a href="https://pypi.python.org/pypi/multiqc" class="text-blue-600">
              Python Package Index
            </a>
            or
            <a href="https://bioconda.github.io/recipes/multiqc/README.html" class="text-blue-600">
              Bioconda
            </a>
          </h2>
          <p class="typo-blockquote mx-auto mb-3 max-w-5xl">
            To install MultiQC, simply run
            <code class="text-md rounded-sm bg-gray-200 px-2 tracking-tighter text-zinc-800">
              pip install multiqc
            </code>
            on the command line.
          </p>
          <p class="typo-blockquote mx-auto mb-3 max-w-5xl">
            If you use conda, you can run
            <code class="text-md rounded-sm bg-gray-200 px-2 tracking-tighter text-zinc-800">
              conda install multiqc
            </code>
            instead.
          </p>
          <p class="typo-blockquote mx-auto mb-3 max-w-5xl">
            See the
            <a href="/docs/usage/installation" class="text-blue-600">
              installation instructions
            </a>
            for more help.
          </p>
          <div class="mt-5 flex flex-col justify-center md:flex-row lg:mt-10">
            <div class="md:mr-4">
              <Button to="/docs/" variant="secondary" size="md">
                <Icon name="mdi:book-outline" class="mr-3 h-6 w-6" />
                Documentation
              </Button>
            </div>
            <div class="mt-4 md:mt-0 md:mr-4">
              <Button to="https://github.com/ewels/MultiQC/" variant="secondary" size="md">
                <Icon name="mdi:github" class="mr-3 h-6 w-6" />
                View on GitHub
              </Button>
            </div>
            <div class="mt-4 md:mt-0">
              <Button to="/project/multiqc/" variant="secondary" size="md">
                <Icon name="mdi:language-python" class="mr-3 h-6 w-6" />
                View on PyPI
              </Button>
            </div>
          </div>
        </div>
      </div>
</BaseLayout>
